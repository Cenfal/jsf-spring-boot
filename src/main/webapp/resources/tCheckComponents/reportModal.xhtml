<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:composite="http://xmlns.jcp.org/jsf/composite">

<composite:interface>
	<composite:attribute name="selectorClass" required="true" />
	<composite:attribute name="msgGroup" required="false" />
	<composite:attribute name="msgShow" required="false" />
	<composite:attribute name="groupBy" required="false" />
	<composite:attribute name="showAssignations" required="false" />
	<composite:attribute name="showStatusEquipment" required="false" />
	<composite:attribute name="hiddenFooter" required="false" />
	<composite:attribute name="colourLines" required="false" />
	<composite:attribute name="availability" required="false" />
	<composite:attribute name="revisions" required="false" />
	<composite:attribute name="assign" required="false" />
	<composite:attribute name="selectedFamily" required="false" />
	<composite:attribute name="headFamilies" required="false" />
	<composite:attribute name="headTypes" required="false" />
	<composite:attribute name="hiddenStatus" required="false" />
	<composite:attribute name="task" required="false" />
	<composite:attribute name="update" required="false" />
	<composite:attribute name="action" required="true"
		method-signature="void action()" />
</composite:interface>

<composite:implementation>
	<div class="modal fade #{cc.attrs.selectorClass}" tabindex="-1"
		role="dialog" aria-labelledby="reportModalClass" aria-hidden="true"
		data-keyboard="false" data-backdrop="static">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<h:panelGroup id="content">
					<div class="modal-header"
						style="background-color: #DAE8EF; color: #003D50; border-bottom: 3px solid #C1D5DF">
						<button type="button" class="close" data-dismiss="modal">
							<i class="fa fa-times"></i>
						</button>
						<h4>
							<h:outputText rendered="#{cc.attrs.availability}"
								value="#{msg.REPORT_AVAILABILITY}" style="font-weight:bold;" />
							<h:outputText rendered="#{cc.attrs.revisions}"
								value="#{msg.REPORT_REVISIONS}" style="font-weight:bold;" />
							<h:outputText rendered="#{cc.attrs.assign}"
								value="#{msg.REPORT_ASIGNATIONS}" style="font-weight:bold;" />
							<h:outputText rendered="#{cc.attrs.task}"
								value="#{msg.REPORT_TASK}" style="font-weight:bold;" />
						</h4>
					</div>
					<ui:fragment rendered="#{cc.attrs.availability or cc.attrs.task}">
						<div class="modal-body small-modal-body">
							<div class="form-group form-group-sm">
								<label class="col-sm-5 control-label text-right">#{cc.attrs.msgGroup}</label>
								<div class="col-sm-2">
									<p:selectBooleanCheckbox value="#{cc.attrs.groupBy}"
										style="width:100%;" />
								</div>
							</div>
						</div>
						<div class="modal-body small-modal-body">
							<div class="form-group form-group-sm">
								<label class="col-sm-5 control-label text-right">#{msg.COLOUR_LINES}</label>
								<div class="col-sm-2">
									<p:selectBooleanCheckbox value="#{cc.attrs.colourLines}"
										style="width:100%;" />
								</div>
							</div>
						</div>
						<div class="modal-body small-modal-body">
							<div class="form-group form-group-sm">
								<label class="col-sm-5 control-label text-right">#{cc.attrs.msgShow}</label>
								<div class="col-sm-2">
									<p:selectBooleanCheckbox value="#{cc.attrs.showAssignations}"
										style="width:100%;" />
								</div>
							</div>
						</div>
					</ui:fragment>
					<ui:fragment
						rendered="#{cc.attrs.assign and !cc.attrs.hiddenOptions}">
						<div class="modal-body small-modal-body">
							<div class="form-group form-group-sm">
								<label class="col-sm-7 control-label text-right">#{msg.SHOW_STATUS_EQUIPMENT}</label>
								<div class="col-sm-2">
									<p:selectBooleanCheckbox
										value="#{cc.attrs.showStatusEquipment}" style="width:100%;" />
								</div>
							</div>
						</div>
					</ui:fragment>
					<ui:fragment rendered="#{cc.attrs.task}">
						<div class="modal-body small-modal-body">
							<div class="form-group form-group-sm"
								style="margin-bottom: 50px;">
								<label class="col-sm-5 control-label text-right">#{msg.FAMILY}</label>
								<div class="col-sm-5">
									<p:selectOneMenu converter="omnifaces.SelectItemsConverter"
										filter="true" filterMatchMode="custom"
										filterFunction="skipAccentsContains" appendTo="@this"
										value="#{cc.attrs.selectedFamily}" style="width:100%;">
										<f:selectItem itemValue="#{null}"
											itemLabel="Sin columnas de familias" />
										<f:selectItems value="#{cc.attrs.headFamilies}" var="family"
											itemLabel="#{family._Name}" itemValue="#{family}" />
									</p:selectOneMenu>
								</div>
							</div>
						</div>
					</ui:fragment>
					<div class="modal-footer">
						<p:commandButton value="#{msg.GENERATE}"
							action="#{cc.attrs.action}" styleClass="btn btn-default"
							onclick="$('.#{cc.attrs.selectorClass}').modal('hide');"
							ajax="false" />
					</div>
				</h:panelGroup>
			</div>
		</div>
	</div>
</composite:implementation>
</html>