<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:composite="http://xmlns.jcp.org/jsf/composite"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

<composite:interface>
	<composite:attribute name="selectorClass" required="true" />
	<composite:attribute name="organization" />
	<composite:attribute name="head" />
	<composite:attribute name="name" required="true" />
	<composite:attribute name="surname1" />
	<composite:attribute name="surname2" />
	<composite:attribute name="dni" />
	<composite:attribute name="workstation" />
	<composite:attribute name="selectedTypology" />
	<composite:attribute name="typologies" />
	<composite:attribute name="email" />
	<composite:attribute name="phone" />
	<composite:attribute name="disabled" />
	<composite:attribute name="headOrganizations" />
	<composite:attribute name="selectedOrganization" />
	<composite:attribute name="annotations" />
	<composite:attribute name="update" required="true" />
	<composite:attribute name="action" required="true"
		method-signature="void action()" />
</composite:interface>

<composite:implementation>
	<div class="modal fade #{cc.attrs.selectorClass}" tabindex="-1"
		role="dialog" aria-labelledby="workerDataModal" aria-hidden="true"
		data-keyboard="false" data-backdrop="static">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<h:panelGroup id="content">
					<div class="modal-header"
						style="background-color: #DAE8EF; color: #003D50; border-bottom: 3px solid #C1D5DF">
						<button type="button" class="close" data-dismiss="modal">
							<i class="fa fa-times"></i>
						</button>
						<h4>
							<h:outputText value="#{cc.attrs.head}" style="font-weight:bold;" />
						</h4>

					</div>
					<div class="modal-body form-horizontal">
						<c:if test="#{cc.attrs.organization}">
							<div class="form-group form-group-sm">
								<p:outputLabel for="org" value="#{msg.ORGANIZATION}"
									class="col-sm-3 control-label text-right" />
								<div class="col-sm-7">
									<p:selectOneMenu id="org" required="true"
										disabled="#{cc.attrs.disabled}"
										converter="omnifaces.SelectItemsConverter" filter="true"
										filterMatchMode="custom" filterFunction="skipAccentsContains"
										appendTo="@this" value="#{cc.attrs.selectedOrganization}"
										style="width:100%;">
										<f:selectItem itemValue="" value="#{null}" />
										<f:selectItems value="#{cc.attrs.headOrganizations}"
											var="organization" itemValue="#{organization._Id}"
											itemLabel="#{organization._Name}" />
									</p:selectOneMenu>
								</div>
							</div>

							<div class="form-group form-group-sm">
								<p:outputLabel value="#{msg.REQUIRED_EQUIPMENT}"
									class="col-sm-3 control-label text-right" />
								<div class="col-sm-7">
									<p:selectOneMenu converter="omnifaces.SelectItemsConverter"
										filter="true" filterMatchMode="custom"
										filterFunction="skipAccentsContains" appendTo="@this"
										value="#{cc.attrs.selectedTypology}" style="width:100%;">
										<c:if test="#{!cc.attrs.typologies.isEmpty()}">
											<f:selectItem itemValue="#{null}" itemLabel="" />
										</c:if>
										<c:if test="#{cc.attrs.typologies.isEmpty()}">
											<f:selectItem noSelectionOption="true"
												itemLabel="No existen equipamientos requeridos en la organizaciÃ³n" />
										</c:if>
										<f:selectItems value="#{cc.attrs.typologies}" var="typology"
											itemValue="#{typology._Id}" itemLabel="#{typology._Name}" />
									</p:selectOneMenu>
								</div>
							</div>
						</c:if>
						<div class="form-group form-group-sm">
							<p:outputLabel for="name" value="#{msg.WORKER_NAME}"
								class="col-sm-3 control-label text-right" />
							<div class="col-sm-7">
								<p:inputText id="name" styleClass="form-control"
									style="width:100%;" required="true" value="#{cc.attrs.name}" />
							</div>
						</div>
						<div class="form-group form-group-sm">
							<p:outputLabel for="surname1" value="#{msg.WORKER_SURNAME1}"
								class="col-sm-3 control-label text-right" />
							<div class="col-sm-7">
								<p:inputText id="surname1" styleClass="form-control"
									style="width:100%;" required="true"
									value="#{cc.attrs.surname1}" />
							</div>
						</div>
						<div class="form-group form-group-sm">
							<label class="col-sm-3 control-label text-right">#{msg.WORKER_SURNAME2}</label>
							<div class="col-sm-7">
								<p:inputText styleClass="form-control" style="width:100%;"
									value="#{cc.attrs.surname2}" />
							</div>
						</div>
						<div class="form-group form-group-sm">
							<label class="col-sm-3 control-label text-right">#{msg.WORKER_DNI}</label>
							<div class="col-sm-7">
								<p:inputText styleClass="form-control" style="width:100%;"
									value="#{cc.attrs.dni}" />
							</div>
						</div>
						<div class="form-group form-group-sm">
							<label class="col-sm-3 control-label text-right">#{msg.ANNOTATIONS}</label>
							<div class="col-sm-7">
								<p:inputText styleClass="form-control" style="width:100%;"
									value="#{cc.attrs.annotations}" />
							</div>
						</div>
						<ui:fragment rendered="#{cc.attrs.worker}">
							<div class="form-group form-group-sm">
								<label class="col-sm-3 control-label text-right">#{msg.WORKER_WORKSTATION}</label>
								<div class="col-sm-7">
									<p:inputText styleClass="form-control" style="width:100%;"
										value="#{cc.attrs.workstation}" />
								</div>
							</div>
						</ui:fragment>
						<div class="form-group form-group-sm">
							<label class="col-sm-3 control-label text-right">#{msg.WORKER_EMAIL}</label>
							<div class="col-sm-7">
								<p:inputText styleClass="form-control" style="width:100%;"
									value="#{cc.attrs.email}" />
							</div>
						</div>
						<div class="form-group form-group-sm">
							<label class="col-sm-3 control-label text-right">#{msg.WORKER_PHONE}</label>
							<div class="col-sm-7">
								<p:inputText styleClass="form-control" style="width:100%;"
									value="#{cc.attrs.phone}" />
							</div>
						</div>
					</div>
					<div class="modal-footer">
						<p:commandButton validateClient="true" value="#{msg.SAVE}"
							action="#{cc.attrs.action}" styleClass="btn btn-default"
							oncomplete="if (args &amp;&amp; !args.validationFailed) $('.#{cc.attrs.selectorClass}').modal('hide');"
							update="#{cc.attrs.update}" ajax="true" />
					</div>
				</h:panelGroup>
			</div>
		</div>
	</div>
</composite:implementation>
</html>